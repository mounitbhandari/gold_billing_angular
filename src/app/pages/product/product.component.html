
<p-toast></p-toast>
<p-toast position="top-left" key="tl"></p-toast>
<p-toast position="top-center" key="tc"></p-toast>
<p-toast position="bottom-center" key="bc"></p-toast>



<div class="d-flex text-dark">
  <div class="col-5">
    <div class="card col-12"  style="border: 3px solid #555555; border-radius: 7px; background-color: #4b4b49">
      <div class="card-body" style="width: 95%;">
        <h3 class="card-title text-white">Product Entry</h3>
        <form [formGroup] = productFormGroup style=" background-image: linear-gradient(to right, #b4b2af , #6f6f6f); border-radius: 5px; margin-left: 20px; ">
          <div class="container" style="color: black">




            <mat-form-field class="col-12" appearance = "fill">
              <input matInput class="text-white" placeholder="Enter Product" formControlName="productName">
              <div class="container" fxLayout fxLayout.xs="column" fxLayoutAlign="end" fxLayoutGap="10px" fxLayoutGap.xs="0" *ngIf="!productFormGroup.controls['productName'].valid && productFormGroup.controls['productName'].touched">
                <mat-error *ngIf="productFormGroup.controls['productName'].hasError('required')">This field is Required</mat-error>
                <mat-error *ngIf="productFormGroup.controls['productName'].hasError('minlength')">Minimum length of Product is {{productFormGroup.controls['productName'].getError('minlength').requiredLength}}</mat-error>
                <mat-error *ngIf="productFormGroup.controls['productName'].hasError('maxlength')">Maximum length of name is {{productFormGroup.controls['productName'].getError('maxlength').requiredLength}}</mat-error>
              </div>
            </mat-form-field>
            <mat-form-field class="col-12" appearance = "fill">
              <input matInput class="text-white" placeholder="Add description" formControlName="description">
              <div class="container" fxLayout fxLayout.xs="column" fxLayoutAlign="end" fxLayoutGap="10px" fxLayoutGap.xs="0" *ngIf="!productFormGroup.controls['description'].valid && productFormGroup.controls['description'].touched">
                <!-- <mat-error *ngIf="productFormGroup.controls['description'].hasError('required')">This field is Required</mat-error> -->
                <!-- <mat-error *ngIf="productFormGroup.controls['description'].hasError('minlength')">Minimum length of Product is {{productFormGroup.controls['description'].getError('minlength').requiredLength}}</mat-error> -->
                <mat-error *ngIf="productFormGroup.controls['description'].hasError('maxlength')">Maximum length of name is {{productFormGroup.controls['description'].getError('maxlength').requiredLength}}</mat-error>
              </div>
            </mat-form-field>
            <div class="example-button-row">
              <p-confirmDialog #cd [style]="{width: '30vw'}" header="Confirmation" icon="pi pi-exclamation-triangle" [transitionOptions]="'0.8ms'">
                <ng-template pTemplate="header">
                  <h3>Header Content</h3>
                </ng-template>
                <ng-template pTemplate="footer">
                  <button type="button" pButton icon="pi pi-times" label="No" (click)="cd.reject()"></button>
                  <button type="button" pButton icon="pi pi-check" label="Yes" (click)="cd.accept()"></button>
                </ng-template>
              </p-confirmDialog>
              <button mat-button color="accent" class="btn-primary" (click)="saveProduct()" [disabled]="!productFormGroup.valid">Save</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
  <div class="col-7">
    <div class="card" style="background-image: linear-gradient(to right, #a8a78d , #767778); border: 5px  solid #6a6a51">
      <h1>Product List</h1>
<!--      <p-table [value]="products">-->
        <p-table #dt class="table-bordered" [value]="products" dataKey="id" styleClass="p-datatable-customers" [rowHover]="true"
                 [rows]="5" [showCurrentPageReport]="true" [rowsPerPageOptions]="[5,25,50]"  responsiveLayout="scroll"
                 [paginator]="true" currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                 [filterDelay]="0" style="background-image: linear-gradient(to right, #a8a78d , #767778) !important; border-radius: 5px">
          <ng-template pTemplate="header">
              <tr>
                  <th style="background-color: #acac98">Product Id</th>
                  <th style="background-color: #acac98">Company Id</th>
                  <th style="background-color: #acac98">Product Name</th>
                  <th style="background-color: #acac98">Description</th>
              </tr>
          </ng-template>
          <ng-template pTemplate="body" let-products>
              <tr>
                  <td style="background-color: #acac98">{{products.productId}}</td>
                  <td style="background-color: #acac98">{{products.companyId}}</td>
                  <td style="background-color: #acac98">{{products.productName}}</td>
                  <td style="background-color: #acac98">{{products.description}}</td>
              </tr>
          </ng-template>
      </p-table>
      <!-- <pre>
        {{products | json}}
      </pre> -->
    </div>
  </div>
</div>



<div class="d-flex" *ngIf="!isProduction">
  <div class="col-4" style="border: 2px solid white;">
    <pre>productFormGroup= {{productFormGroup.value | json}}</pre>
  </div>
  <div class="col-4" style="border: 2px solid white;">
    <pre>userObject= {{userObject | json}}</pre>
  </div>
  <div class="col-4" style="border: 2px solid white;">
    <pre>
      productList = {{productList | json}}
    </pre>
  </div>
</div>
